


<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

  <!-- Title and Description -->
  <title>ImageMagick | Color Thresholding</title>
  <meta name="description" content="ImageMagick is a powerful open-source software suite for creating, editing, converting, and manipulating images in over 200 formats. Ideal for developers, designers, and researchers." />

  <!-- Canonical URL -->
  <link rel="canonical" href="color-thresholding.html" />

  <!-- Robots -->
  <meta name="robots" content="index, follow" />

  <!-- Theme Color -->
  <meta name="theme-color" content="#000000" />

  <!-- Verification Tags -->
  <meta name="google-site-verification" content="_bMOCDpkx9ZAzBwb2kF3PRHbfUUdFj2uO8Jd1AXArz4" />

  <!-- Favicon and Apple Icon -->
  <link rel="shortcut icon" href="../images/wand.png" type="images/png" />
  <link rel="apple-touch-icon" href="../images/wand.png" type="images/png" />

  <!-- Preconnect for External Resources -->
  <link rel="preconnect" href="../index.html" />

  <!-- Stylesheets -->
  <link rel="preload" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" as="style" crossorigin="anonymous" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" />

  <!-- Accessibility Enhancement -->
  <style>
    html {
      scroll-padding-top: 70px;
    }
    a.nav-link:hover,
    a.dropdown-item:hover {
      color: #ffc107 !important;
      text-shadow: 0px 2px 4px rgba(255, 193, 7, 0.8);
    }
    .btn-outline-warning {
      color: #cd7f32;
      border-color: #cd7f32;
    }
    .navbar-brand {
      color: #d4af37;
      transition: color 0.3s ease, text-shadow 0.3s ease;
    }
    .navbar-brand:hover {
      color: #e9c03d;
      text-shadow: 0px 2px 4px rgba(203, 163, 120, 0.6);
    }
  </style>

  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="ImageMagick | Color Thresholding" />
  <meta property="og:description" content="ImageMagick is a powerful open-source software suite for creating, editing, converting, and manipulating images in over 200 formats. Ideal for developers, designers, and researchers." />
  <meta property="og:image" content="../images/logo.png" />
  <meta property="og:logo" content="../images/logo.png" />
  <meta property="og:url" content="../www/color-thresholding.html" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="ImageMagick" />
  <meta property="og:locale" content="en_us" />

  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@imagemagick" />
  <meta name="twitter:creator" content="@imagemagick" />
  <meta name="twitter:title" content="ImageMagick | Color Thresholding" />
  <meta name="twitter:description" content="ImageMagick is a powerful open-source software suite for creating, editing, converting, and manipulating images in over 200 formats. Ideal for developers, designers, and researchers." />
  <meta name="twitter:image" content="../images/logo.png" />
  <meta name="twitter:image:alt" content="ImageMagick logo and tag line" />

  <!-- JSON-LD Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "ImageMagick",
    "url": "../www/color-thresholding.html",
    "image": "../images/logo.png",
    "description": "ImageMagick is a powerful open-source software suite for creating, editing, converting, and manipulating images in over 200 formats. Ideal for developers, designers, and researchers.",
    "applicationCategory": "Multimedia",
    "operatingSystem": "Windows, macOS, Linux, Unix",
    "softwareVersion": "7.1.2-3",
    "license": "../www/license.html",
    "creator": {
      "@type": "Organization",
      "name": "ImageMagick Studio LLC",
      "url": "https://imagemagick.org"
    },
    "keywords": [
      "Color Thresholding",
      "image processing software",
      "image conversion tool",
      "batch image editing",
      "open-source image editor",
      "ImageMagick command-line",
      "resize images ImageMagick",
      "crop and rotate images",
      "ImageMagick tutorial",
      "ImageMagick automation",
      "ImageMagick for developers",
      "ImageMagick CLI",
      "ImageMagick filters and effects",
      "ImageMagick scripting",
      "ImageMagick API integration"
    ],
    "sameAs": [
      "https://github.com/ImageMagick",
      "https://x.com/imagemagick"
    ],
    "offers": {
      "@type": "Offer",
      "price": "0.00",
      "priceCurrency": "USD"
    }
  }
  </script>
  <!-- Google Custom Search -->
</head>
<body>
  <script>
    function setTheme(theme) {
      localStorage.setItem('theme', theme);
      updateThemeIcon(theme);
      document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? getSystemTheme() : theme);
    }
    function getSystemTheme() {
      return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    }
    function updateThemeIcon(theme) {
      const iconMap = {
        light: '‚òÄÔ∏è',
        dark: 'üåô',
        auto: 'üåì'
      };
      document.getElementById('currentThemeIcon').textContent = iconMap[theme] || 'üåì';
    }
    document.addEventListener('DOMContentLoaded', () => {
      const savedTheme = localStorage.getItem('theme') || 'auto';
      setTheme(savedTheme);
    });
  </script>
  <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
  <div class="container-fluid">
    <a class="navbar-brand fw-bold" href="../index.html" title="$meta->sitename;">
      ImageMagick    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#magick-navbars" aria-controls="magick-navbars" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="magick-navbars">
      <ul class="navbar-nav me-auto">
        <li class="nav-item">
          <a class="nav-link " href="download.html">Download</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="command-line-tools.html">Tools</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="command-line-processing.html">CLI</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="develop.html">Develop</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" rel="noopener noreferrer" target="_blank" href="https://github.com/ImageMagick/ImageMagick/discussions">Community</a>
        </li>
        <li class="nav-item ms-4">
          <iframe src="https://github.com/sponsors/ImageMagick/button" title="Sponsor ImageMagick" height="35" width="107" style="border: 0;"></iframe>
        </li>
      </ul>
      <ul class="navbar-nav ms-auto">
        <li class="nav-item ms-3">
          <form class="d-flex form-inline" action="../www/search.html">
            <input class="form-control me-2" type="text" name="q" placeholder="Search site..." aria-label="Search">
            <button class="btn btn-outline-warning" type="submit" name="sa">Search</button>
          </form>
        </li>
        <li class="nav-item dropdown ms-3">
          <a class="nav-link dropdown-toggle" href="#" id="themeDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <span id="currentThemeIcon">üåì</span>
          </a>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="themeDropdown">
            <li><a class="dropdown-item" href="#" onclick="setTheme('light')">‚òÄÔ∏è Light</a></li>
            <li><a class="dropdown-item" href="#" onclick="setTheme('dark')">üåô Dark</a></li>
            <li><a class="dropdown-item" href="#" onclick="setTheme('auto')">üåì Auto</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
  </nav>

<div class="col-lg-8 mx-auto text-body-secondary pt-5 pt-lg-5">
  <header class="d-flex align-items-center pb-3 mb-5 border-bottom">
    <div class="mt-3 ms-3">
      <a href="../index.html" class="text-decoration-none">
        <h1 class="fs-2 mb-1">Color Thresholding</h1>
      </a>
      <h2 class="fs-5 text-muted">ImageMagick</h2>
    </div>
  </header>

  <main role="main" class="container">
<div>
<p>Use color thresholding to specify a color range and return a black and white image. All colors between the start and stop colors (inclusively) become white and the rest of the image pixels become black. The two colors are separated with a hyphen between them. Thresholding, by default, take place in the sRGB colorspace.  Use the <samp>-colorspace</samp> to perform the thresholding in an alternative colorspaces (currently limited to sRGB, Gray, HSV, HSL, HCL, HSB, and HSW). Start and stop colors can be specified in any colorspace (recognized by ImageMagick), but in general, we advise you specify them in the colorspace corresponding to the <samp>-colorspace</samp> option. For colorspace Gray, be sure to use a start value lower than the stop value. Note that Hue is cyclical -- 0 and 360 are the same. However, a range of colors that spans hue = 0 may still be useful, if the start hue value is higher than the stop hue value.</p>

<p>Caution is advised when mixing the colorspace of the start and stop colors and that of the image. A large range in one colorspace may map to only a narrow range in another colorspace. For example, one might naively think that <samp>sRGB(0,0,0)</samp> to <samp>sRGB(255,255,255)</samp> would produce a white image, catching all colors, even when using -colorspace HSV. But these two colors are black and white and so map only to a range of grayscale as <samp>hsv(0,0%,0%)</samp> and <samp>hsv(0,0%,100%)</samp>. For a color image, you would likely not find too many gray pixels.</p>

<p>To illustrate how color thresholding performs, use this image:</p>

<pre class="code">convert <var>input-image</var> -colorspace <var>XXX</var> -color-threshold <var>"start - stop"</var> <var>output-image</var></pre>

<p>The following are some typical examples of use:</p>

<ul><img class="img-fluid img-thumbnail" src="../images/color-thresholding.jpg" alt="[Color Thresholding]" width="265" height="333" name="color-thresholding" /></ul>

<p>Start by choosing one sRGB color (somewhere on the image -- in this case the yellow of the flowers) and offset it low and high to form two sRGB colors. The lower values form the start color and the higher values form the stop color. Begin with <samp>sRGB(183,132,20)</samp>. Offset its values by +-20 to identify the start color (-) and the stop color (+); namely, R=183+-20, G=132+-20, and B=40+-20:</p>

<pre class="code">magick monet.jpg -color-threshold 'sRGB(163,112,0)-sRGB(203,152,40)' monet.gif</pre>

<p>this returns the outline of the yellow flower petals:</p>

<ul><img class="img-fluid img-thumbnail" src="../images/color-thresholding-hsv.gif" alt="[Color Thresholding]" width="265" height="333" name="color-thresholding" /></ul>

<p>Now, pick two RGB colors: <samp>sRGB(159,150,0)</samp> and <samp>sRGB(205,100,45):</samp></p>

<pre class="code">magick monet.jpg -color-threshold 'sRGB(159,150,0)-sRGB(205,100,45)' monet.gif</samp></ul>

<ul><img class="img-fluid img-thumbnail" src="../images/color-thresholding-rgb.gif" alt="[Color Thresholding]" width="265" height="333" name="color-thresholding" /></ul>

<p>Next, select one sRGB color and convert it to HSV and offset its values low and high to generate the start and stop HSV colors. Use -colorspace HSV to convert the image to HSV. For our HSV example, we pick <samp>sRGB(183,132,20)</samp> and convert to HSV:</p>

<pre class="code">
magick xc:"srgb(183,132,20)" -colorspace HSV txt:
# ImageMagick pixel enumeration: 1,1,65535,hsv
0,0: (41.227,89.071%,71.7647%) #1D51E405B7B7 hsv(41.227,89.071%,71.7647%)
</pre>

<p>Now, offset its HSV values as H=41+-20, S=89+-10, and V=72+-10, to create the start color (-) and stop color (+):</p>

<pre class="code">magick monet.jpg -colorspace HSV -color-threshold 'hsv(21,79%,62%)-hsv(61,99%,85%)' monet.gif</pre>

<ul><img class="img-fluid img-thumbnail" src="../images/color-thresholding-rgb.gif" alt="[Color Thresholding]" width="265" height="333" name="color-thresholding" /></ul>

<p>Next, pick two RGB colors. Use <samp>-colorspace HSV</samp> to convert the image to HSV, and apply the RGB start and stop colors.  Choose <samp>sRGB(158,77,33)</samp> and <samp>sRGB(213,217,2)</samp>:</p>

<pre class="code">magick monet.jpg -colorspace HSV -color-threshold "sRGB(158,77,33)-sRGB(213,217,2)" monet.gif</pre>

<p>Here is the expected results:</p>

<ul><img class="img-fluid img-thumbnail" src="../images/color-thresholding-hsv-rgb.gif" alt="[Color Thresholding]" width="265" height="333" name="color-thresholding" /></ul>

<p>Next, choose two sRGB colors and convert them to gray. Now convert the image to gray and use the gray thresholding colors.</p>

<pre class="code">
magick xc:"sRGB(159,150,0)" -colorspace gray txt:
# ImageMagick pixel enumeration: 1,1,65535,gray
0,0: (36259.1) #8DA38DA38DA3 gray(55.3278%)

magick xc:"sRGB(205,100,45)" -colorspace gray txt:
# ImageMagick pixel enumeration: 1,1,65535,gray
0,0: (30418.2) #76D276D276D2 gray(46.4152%)
</pre>

<p>Notice that the start intensity must be smaller than stop intensity:</p>

<pre class="code">magick monet.jpg -colorspace gray -color-threshold 'gray(46.4152%)-gray(55.3278%)' monet.gif</pre>

<p>Here is the results of the color thresholding operation:</p>

<ul><img class="img-fluid img-thumbnail" src="../images/color-thresholding-gray.gif" alt="[Color Thresholding]" width="265" height="333" name="Color Thresholding" /></ul>
</div>
    <a aria-label="About ImageMagick" class="btn btn-outline-warning mt-3" href="../index.html">About ImageMagick</a>
  </main><!-- /.container -->
  <footer class="text-center pt-5 my-5 text-body-secondary border-top">
    <div class="container-fluid">
      <a href="security-policy.html">Security</a> ‚Ä¢
      <a href="../www/news.html">News</a>
     
      <a href="#"><img class="d-inline" id="wand" alt="And Now a Touch of Magick" width="16" height="16" src="../images/wand.ico" /></a>
     
      <a href="../www/links.html">Related</a> ‚Ä¢
      <a href="../www/sitemap.html">Sitemap</a>
   <br>
     <a href="../www/support.html">Sponsor</a> ‚Ä¢
     <a href="../www/cite.html">Cite</a> ‚Ä¢
     <a href="http://pgp.mit.edu/pks/lookup?op=get&amp;search=0x89AB63D48277377A">Public Key</a> ‚Ä¢
     <a href="../www/https://imagemagick.org/script/contact.php">Contact Us</a>
   <br>
     <a href="https://github.com/imagemagick/imagemagick" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="navbar-nav-svg" viewBox="0 0 512 499.36" width="2%" height="2%" role="img" focusable="false"><title>GitHub</title><path fill="currentColor" fill-rule="evenodd" d="M256 0C114.64 0 0 114.61 0 256c0 113.09 73.34 209 175.08 242.9 12.8 2.35 17.47-5.56 17.47-12.34 0-6.08-.22-22.18-.35-43.54-71.2 15.49-86.2-34.34-86.2-34.34-11.64-29.57-28.42-37.45-28.42-37.45-23.27-15.84 1.73-15.55 1.73-15.55 25.69 1.81 39.21 26.38 39.21 26.38 22.84 39.12 59.92 27.82 74.5 21.27 2.33-16.54 8.94-27.82 16.25-34.22-56.84-6.43-116.6-28.43-116.6-126.49 0-27.95 10-50.8 26.35-68.69-2.63-6.48-11.42-32.5 2.51-67.75 0 0 21.49-6.88 70.4 26.24a242.65 242.65 0 0 1 128.18 0c48.87-33.13 70.33-26.24 70.33-26.24 14 35.25 5.18 61.27 2.55 67.75 16.41 17.9 26.31 40.75 26.31 68.69 0 98.35-59.85 120-116.88 126.32 9.19 7.9 17.38 23.53 17.38 47.41 0 34.22-.31 61.83-.31 70.23 0 6.85 4.61 14.81 17.6 12.31C438.72 464.97 512 369.08 512 256.02 512 114.62 397.37 0 256 0z"/></svg></a> ‚Ä¢
     <a href="https://twitter.com/imagemagick" rel="noopener noreferrer" target="_blank" aria-label="Twitter"><svg xmlns="http://www.w3.org/2000/svg" class="navbar-nav-svg" viewBox="0 0 300 300" width="2%" height="2%" role="img" focusable="false"><title>Twitter</title><path d="M178.57 127.15 290.27 0h-26.46l-97.03 110.38L89.34 0H0l117.13 166.93L0 300.25h26.46l102.4-116.59 81.8 116.59h89.34M36.01 19.54H76.66l187.13 262.13h-40.66"/></svg></a>
    <br>
    <small>Copyright ¬© 1999 ImageMagick Studio LLC</small>
    </div>
  </footer>
</div>

  <!-- Javascript assets -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
~                                                         
  </body>
</html>
<!-- Magick Cache 4th October 2025 00:01 -->